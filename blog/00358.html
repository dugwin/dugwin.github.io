<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>


<title>Фотошкола, лекция №2: основы обработки в редакторе</title>

<link rel="stylesheet" type="text/css" href="/css/ivory.css"/>
<link rel="stylesheet" type="text/css" href="/css/dugwin.css"/>

</head>
<body>

<div class="grid">
	<div class="row space-top space-bot">
	<div class="c12">
		<p class="note" style="background-color: #eee"><a href="/">dugwin.net</a></p>
	</div>
	<!--
		<div class="c3">
			<p class="note text-center" style="background-color: #ddd"><a href="/">dugwin.net</a></p>
		</div>
		<div class="c6">
			<p class="text-center">that is so much bullshit…</p>
		</div>
		<div class="c3">
			<p class="note text-center" style="background-color: #ddd"><a href="/about.html">about</a></p>
		</div>
	-->
	</div>

	<div class="row space-bot">
		<div class="c2">
			<div id="sidebar">
			<ul>
				
				
				<li class="page_item">
					
					<b><a href = "/about.html" >Что где?</a></b>
					
					
				</li>
				
				<li class="page_item">
					
					<b><a href = "/blog/" >blog</a></b>
					
					
					<ul>
					
						<li>
						<a href = "/blog/blog/">блог</a>
						</li>
					
						<li>
						<a href = "/blog/photo/">фото</a>
						</li>
					
						<li>
						<a href = "/blog/daypic/">фото дня</a>
						</li>
					
						<li>
						<a href = "/blog/hlam/">хлам</a>
						</li>
					
					</ul>
					
				</li>
				
				<li class="page_item">
					
					<b><a href = "/rss/blog/" >rss</a></b>
					
					
				</li>
				
			</ul>
			</div>
		</div>
		<div class="c10">
		<div class="content">
			
	<div class="post">
        <div class="posttitle">Фотошкола, лекция №2: основы обработки в редакторе
        
        
		</div>
        
        <div class="storycontent">
            
            
			<p>Сегодня я расскажу про обработку изображений в графическом редакторе. Я буду пользоваться редактором GIMP хотя бы по той причине, что он распространяется свободно и доступен как <a href="http://www.gimp.org/windows/">для windows</a>, так и для linux.</p>
<p>Попутно, кстати, у меня, похоже, получился лучший урок по использованию GIMP для редактирования фотографий.</p>
<p>Подход тот же, сразу в бой: открываем исходное изображение в редакторе. Если печатать изображение не предполагается, то я сразу (всегда, никогда, помните?) уменьшаю размер до того в котором буду издавать, то есть 900х600.</p>
<p>Вот на чём закончилась первая лекция:</p>
<img src="http://files.dugwin.net/photoschool/0104.jpg" />

<p>GIMP не самая удобная в мире программа, но разобраться можно, поэтому я рискну не слишком подробно описывать каждый клик мышкой. Основные пункты и названия, конечно, буду говорить, но не надо думать, что голову можно выключить и положить в стол, рано.</p>
<p>Итак, уменьшаем: Image – Scale Image, режим я оставляю по умолчанию Cubic (бикубическая интерполяция).</p>
<p>По понятным причинам изображение на мониторе лучше всего держать в масштабе 100%. Это кстати касается и тех случаев, когда идёт ретушь в исходном разрешении.</p>
<p>Итак, напоминаю планы по обработке этого апельсина:<ul><li>подправить яркость и контрастность,</li><li>подправить/накрутить цвет,</li><li>почистить фон,</li><li>добавить резкость.</li></ul></p>
<p>Стандартный такой набор, возможно я буду отходить от этой последовательности, процесс всё-таки творческий, но все действия будут из этого списка.</p>
<h2>Зачем нужны слои</h2><p> В простейшем случае слои используются следующим образом: слои лежат один над другим и часть изображения берётся с одного слоя, а часть с другого. В реальности есть нюансы и варианты, но основная идея такая.</p>
<p>Чтобы определить какую часть изображения с верхнего слоя брать надо, а какую нет (и тогда в этих местах виден будет нижний слой) используется маска слоя. Маска слоя это чёрно-белое изображение такого же размера как и сам слой, где она белая — слой виден, где чёрная — прозрачен. В маске допускаются градации серого и тогда слой в таких местах будет просвечивать.</p>
<p>Пробуем: 1) переключиться на закладку Layers; 2) продублировать слой: правый клик мыши на единственном слое и Duplicate Layer Должно получиться как на рисунке:</p>
<img src="http://files.dugwin.net/photoschool/02layers.png" />

<p>Дальше я хочу откорректировать яркость изображения. Для этого я вызываю диалог Curves (меню Colors) и в нём накручиваю такую кривую:</p>
<img src="http://files.dugwin.net/photoschool/02curves1.png" />

<p>Результат:</p>
<img src="http://files.dugwin.net/photoschool/0201.jpg" />

<p>Сравнивать изображения лучше всего открыв их в двух соседних закладках браузера. В большинстве браузеров чтобы открыть в отдельной вкладке картинку достаточно перетащить её в область закладок.</p>
<p>Подробнее о Curves и о цетокоррекции говорить надо отдельно, поэтому поясню в двух словах. Кривая задаёт изменения яркости изображения от тёмных тонов (слева) до светлых (справа). Когда кривая проходит по диагонали, то изменений нет – как было так и осталось. Когда кривая выше диагонали – результат будет ярче и наоборот: если ниже, то темнее. Правой точкой на кривой я определил, что хочу сделать светлую часть изображения ещё светлее. При этом я зафиксировал тёмную часть изображения, чтобы она не становилась светлее, а осталось какой и была: это позволит сохранить контраст изображения, оставить тени тёмными. Все эти изменения происходят в реальном времени, всегда есть возможность посмотреть на результат.</p>
<p>Curves применяется только к одному выбранному слою, то есть верхний слой станет ярким, а нижний останется тёмным.</p>
<p>Самое время выяснить как работают маски. Чтобы добавить маску на верхний слой необходимо чтобы этот слой был видим и был выбран в диалоге Layer. Убедившись что всё в порядке, правый клик на самом изображении апельсина, Layer – Mask – Add Layer Mask. Появится диалог Add Mask To The Layer, в котором по умолчанию всё правильно, надо просто согласиться.</p>
<p>Теперь у верхнего слоя есть маска, в которой можно задать где показывать верхний слой, а где не показывать.</p>
<p>Чтобы наверняка понять как работают маски, я рекомендую поступить например так: 1) в диалоге Layers кликнуть в белый прямоугольник справа от уменьшенного изображения верхнего слоя, это будет обозначать, что мы редактируем не сам слой, а его маску; 2) выбрать инструмент выделения (левый верхний инструмент или клавиша R); 3) выделить часть изображения таким образом, чтобы часть апельсина в него попала, а часть нет; 4) используя инструмент заливки закрасить выделенную часть маски чёрным цветом.</p>
<p>Результат должен получиться таким:</p>
<img src="http://files.dugwin.net/photoschool/0202.jpg" />

<p>Левая часть маски белая и отображается верхний яркий слой, а правая — чёрная и верхний слой не отображается, виден нижний, оригинальный сероватый слой.</p>
<p>При этом рекомендую обратить внимание на изображение маски в диалоге Layers там должен быть не белый прямоугольник а белый с чёрным. При желании, кстати, на эту маску можно посмотреть в полном размере, для этого используется Alt+Click на её пиктограмме, аналогично чтобы отключить. Сама маска:</p>
<img src="http://files.dugwin.net/photoschool/0203-mask.png" />

<p>Другая не менее полезная функция Ctrl+Click позволяет посмотреть как бы выглядел результат без маски.</p>
<p>В качестве эксперимента ещё можно выбрать инструмент кисть (Paintbrush) и поводить чёрным цветом там, где маска – белая, белым цветом, там где чёрная. Получится что-то такое</p>
<img src="http://files.dugwin.net/photoschool/0204.jpg" />

<p>Это были опыты, теперь к делу. Маску необходимо вернуть к сплошному белому слою.</p>
<h2>Яркость и контрастность</h2><p> Коррекция яркости это постоянная составляющая редактирования изображений сразу по двум причинам: во-первых сложно при съёмке точно угадать нужную яркость, а во-вторых характер контраста, который подходит каждому кадру может отличаться, фотоаппараты про это вообще ничего не знают.</p>
<p>Основную яркость я уже подправил на втором слое, но есть ряд деталей. Мне не нравится что на апельсине слишком ярким, почти белым, вышел блик. Чтобы этот эффект подправить, я выбираю инструмент кисть, ставлю Opacity в 10% и несколькими мазками рисую на маске слоя такое пятно, которое поможет прибрать блики.</p>
<p>Очень нежелательно при правке маски выходить за границы объекта, это создаёт характерный ореол, который часто выдаёт начинающих ретушёров.</p>
<p>При редактировании маски лучше, конечно, использовать мягкую кисть (не с чёткими краями). При помощи Alt+Click можно посмотреть на результирующую маску, скорее из любопытства, практического смысла не много, разве что проконтролировать выход за границу объекта. При помощи Ctrl+Click можно сверить результат с тем, который был без маски, меня устраивает:</p>
<img src="http://files.dugwin.net/photoschool/0205.jpg" />

<p>Маска слоя:</p>
<img src="http://files.dugwin.net/photoschool/0206.jpg" />

<h2>Ретушь мелких недостатков</h2><p> Так, теперь меня раздражает мусор на фоне. Просто на всякий случай я сделаю новый слой, в котором буду выполнять ретушь фона. Правый клик в Layers, New From Visible: я получу новый слой, который уже содержит промежуточный результат. Если этот новый слой отключить — то видимых изменений никаких не произойдёт.</p>
<p>Clone Stamp — одно из величайших изобретений человечества. Невероятно мощный и удобный инструмент ретуши, при помощи него очень удобно бороться с пылью, дефектами кожи, царапинами, битыми пикселями и всеми другими мелкими недостатками изображений. Работает он очень просто, Ctrl+Click запоминает место, с которого надо копировать и потом движениями кисти можно переносить изображение с участка-донора.  Залог успеха: не лениться переопределять источник и вообще не лениться, минут 5-15 на чистку — вполне нормально.</p>
<img src="http://files.dugwin.net/photoschool/0207.jpg" />

<p>После правки обязательно попробовать отключить верхний слой и сравнить с тем, что было, красота?</p>
<h2>Цветокоррекция</h2><p> Мне не очень нравится холодноватый оттенок изображения. Чтобы подправить оттенок я не забываю продублировать слой, после чего вызываю Curves, но менять на этот раз буду отдельно красный и синий каналы: красный немного приподниму, синий, наоборот, прибираю.</p>
<img src="http://files.dugwin.net/photoschool/02curves2.png" />

<p>Результат:</p>
<img src="http://files.dugwin.net/photoschool/0208.jpg" />

<p>Вообще, с этими цветами надо аккуратно, всегда лучше немного недокрутить, чем перекрутить. Иногда я сознательно перекручиваю, а потом ослабляю эффект, тут уже на усмотрение каждого. Сейчас вот, кажется, всё-таки маловато.</p>
<p>Цветокоррекция — штука довольно субъективная, кому-то одно нравится, кому-то другое. Об объективной и субъективной составляющей цветокоррекции поговорить придётся отдельно.</p>
<p>В моём случае в правой и нижней части апельсина заметен зеленоватый оттенок, я аналогично предыдущему шагу, но уже с маской хочу подправить цвет: дублирую слой, снова Curves, в котором я заметно увожу вниз зелёный, добавляю красный, и потом по маске применяю это всё только к тем частям, которые были зеленоватыми:</p>
<img src="http://files.dugwin.net/photoschool/0209.jpg" />

<p>Не слишком аккуратно, но пойдёт. В учебно-демонстрационных целях ещё можно добавить цветность. Здесь это будет уже игра на грани фола, так как в изображении и так слишком много красного, но немного можно (особенно если очень хочется).</p>
<p>Снова новый (New From Visible в диалоге Layers), потом диалог Hue/Saturation из меню Colors.</p>
<p>Я ставлю Hue -2, Saturation +10.</p>
<img src="http://files.dugwin.net/photoschool/020a.jpg" />

<p>На каждом шаге можно, даже нужно отключать видимость верхнего слоя, сравнивать с тем, что было на предыдущем шаге. Кстати говоря, при помощи движка Opacity в Layers есть возможность снизить прозрачность каждого из слоёв, тем самым ослабить эффект, если он получился резковатым. Я, пожалуй, как раз в данном случае воспользуюсь и сделаю Opacity для этого слоя с корректировкой цветности равной 60%, слишком уж вышло ярко.</p>
<p>Теперь получился почти готовый результат, осталась резкость.</p>
<h2>Резкость</h2><p> Резкость всегда, действительно всегда, применяется последней и в разрешении, в котором будет опубликован результат.</p>
<p>Фильтр Unsharp Mask — не самый плохой способ повысить резкость. Подробнее о его параметрах можно почитать в интернете, я использовал для данного кадра Radius 0.4, Amount 0.78, Threshold 4. Результат:</p>
<img src="http://files.dugwin.net/photoschool/020b.jpg" />

<p>Результат от Unsharp Mask мне чем-то не нравится, я поэтому пользуюсь другой, несколько более замороченной технологией. Возможно, даже результат объективно ничем не лучше, но мне почему-то нравится поступать именно так.</p>
<p>Для моего любимого способа повышения резкости понадобится дополнительный фильтр который называется High-Pass, он легко находится в интернете.</p>
<p>Слой из предыдущего шага, то есть с применённым Unsharp Mask я удаляю, получается итоговый результат до повышения резкости. Снова New from Visible. К этому слою я применяю High Pass Filter с минимальным радиусом.</p>
<p>Получается такая штука:</p>
<img src="http://files.dugwin.net/photoschool/020c.jpg" />

<p>Теперь достаточно поменять режим наложения этого слоя с Normal на Overlay и получится более резкое изображение.</p>
<p>Пока я этим всем занимался, <a href="http://registry.gimp.org/node/103">нашёл фильтр</a>, который те же действия выполняет сам: сам создаёт слой и сам ставит правильный режим наложения.</p>
<p>После применения резкости всегда есть возможность используя маску снизить влияние фильтра на какие-то части, где особая резкость не требуется, например фон.</p>
<img src="http://files.dugwin.net/photoschool/020d.jpg" />

<p>Если резкость показалась недостаточной, то этот серый слой, вместе с уже сделанной маской, можно продублировать и затем при помощи Opacity снизить его влияние, то есть получить не двойной эффект, а, скажем 1.5. Сразу предупреждаю, очень высок соблазн резкость перекрутить, аккуратнее. Ну и, очевидно, изначально испорченный/смазанный кадр никакой резкостью не спасти.</p>
<p>Напоминаю, что это всё тот же кадр, снятый на мобильный телефон, так что на идеал он совершенно не претендует.</p>
<img src="http://files.dugwin.net/photoschool/020e.jpg" />

<p><a href="http://www.dugwin.net/blog/00356.html">Предыдущая лекция</a>: вводная (апельсин). <a href="http://www.dugwin.net/blog/00364.html">Следующая лекция</a>: экспозиция.</p>

        </div>
		
	<div class="row">
	<div class="c4">
        tags: 
        
            <a href = "/blog/photoschool">photoschool</a>
        
        
	</div>
    
	<div class="c5" name="dynamicdiv" id="00358">
	</div>
    
	<div class="c3, text-right" style="font-size: 0.8em;">
            06.03.2012, 11:13:43
	</div>
	</div>
		<div class="row">
		<div class="c12" style="font-size: 0.8em;">
		
        <div id = "commentsblock" class = "commentsblock">
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES * * */
                    var disqus_shortname = 'dugwin';
                    
                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>        </div>
        
		</div>
		</div>





<script type="text/javascript">
//document.getElementById('comments').innerHTML = "<iframe src='/comments?id='></iframe>";
lick('/comments?id=', 'comments', '');
//alert (2);
</script>


		</div> <!-- content -->
		</div> <!-- c10 -->
	</div>
</div>
<!--
<p align = "right">
© dugwin.net 2010-2015
</p>
-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'True']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter34866985 = new Ya.Metrika({
                    id:34866985,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/34866985" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<script type="text/javascript" src="/script/dynamic.js"></script>

</body>
</html>